# =============================================================================
# FICHIER D'EXEMPLE - À COPIER EN .env ET REMPLIR AVEC VOS VRAIES VALEURS
# =============================================================================
# Ce fichier montre toutes les variables d'environnement nécessaires.
#
# INSTRUCTIONS :
# 1. Copier ce fichier : cp .env.example .env (Windows: copy .env.example .env)
# 2. Éditer .env avec vos vraies valeurs
# 3. Ne JAMAIS commiter le fichier .env (il est dans .gitignore)
# =============================================================================

# -----------------------------------------------------------------------------
# API PENNYLANE - 2 MÉTHODES D'ACCÈS
# -----------------------------------------------------------------------------

# 1. DATA SHARING (Accès direct Data Warehouse Redshift)
# Généré sur : https://app.pennylane.com/companies/VOTRE_ID/settings/connectivity?subtab=data_sharing
# Permet connexion SQL directe au Data Warehouse Pennylane
PENNYLANE_DATA_SHARING_KEY=votre_cle_data_sharing_pennylane

# 2. API REST TOKEN (Developers - avec scopes)
# Généré sur : https://app.pennylane.com/companies/VOTRE_ID/settings/connectivity?subtab=developers
# Permet accès API REST avec scopes spécifiques
PENNYLANE_API_TOKEN=votre_token_api_rest_pennylane

# Configuration API REST
PENNYLANE_API_BASE_URL=https://app.pennylane.com/api/external/v2
PENNYLANE_BASE_URL=https://app.pennylane.com/api/external/v1
PENNYLANE_RATE_LIMIT=4.5

# Pour compatibilité avec l'ETL (utilise API REST par défaut)
PENNYLANE_API_KEY=${PENNYLANE_API_TOKEN}

# -----------------------------------------------------------------------------
# REDSHIFT (Data Warehouse Pennylane - pour données comptables)
# -----------------------------------------------------------------------------
# Utilisé par les notebooks Import_analytical_ledger, Import_general_ledger, etc.
# Les credentials sont fournis par Pennylane Data Sharing
REDSHIFT_HOST=pennylane-external.csqwamh5pldr.eu-west-1.redshift.amazonaws.com
REDSHIFT_PORT=5439
REDSHIFT_DATABASE=prod
REDSHIFT_USER=votre_user_redshift
REDSHIFT_PASSWORD=${PENNYLANE_DATA_SHARING_KEY}

# -----------------------------------------------------------------------------
# BASE DE DONNÉES POSTGRESQL (Local - Docker)
# -----------------------------------------------------------------------------
# Configuration pour PostgreSQL local
POSTGRES_HOST=localhost
POSTGRES_PORT=5433
POSTGRES_DB=pennylane_db
POSTGRES_USER=pennylane_user
POSTGRES_PASSWORD=changeme_secure_password
POSTGRES_SCHEMA=pennylane

# -----------------------------------------------------------------------------
# PLANIFICATEUR
# -----------------------------------------------------------------------------
# Intervalle d'actualisation en minutes (120 min = 2 heures)
SCHEDULER_REFRESH_MINUTES=120
SCHEDULER_INTERVAL_MINUTES=10
SCHEDULER_ENABLED=true

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
# Niveau de log : DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FILE=logs/pennylane_etl.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# -----------------------------------------------------------------------------
# PGADMIN (optionnel - interface web PostgreSQL)
# -----------------------------------------------------------------------------
PGADMIN_EMAIL=admin@pennylane.local
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050
